name: Validate JSON Schemas
on: 
  push:
    branches:
      - main
      - shapes-and-schemas-subtask
  pull_request:
    branches:
      - main
      - shapes-and-schemas-subtask   
jobs:
  validate-json:
    runs-on: ubuntu-latest
    strategy: 
      matrix:
        schema: ["catalog/message/schema/catalog-error-schema.json", "catalog/message/schema/catalog-request-message-schema.json"]
        example: ["catalog/message/catalog-error.json"]
    steps:
      - uses: actions/checkout@v3
        name: Checkout
      - name: Validate JSON Schema
        uses: jakejarvis/json-schema-validate@v4
        with:
          schema: ${{ matrix.schema }}
          files: ${{ matrix.example }}
          fail-on-invalid: true
